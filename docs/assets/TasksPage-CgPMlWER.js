const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TaskModal-D6R31VGG.js","assets/index-D1c6PAUA.js","assets/index-DWYq-KeT.css"])))=>i.map(i=>d[i]);
import{j as e,u as w,a as E,b as I,c as h,r,l as P,M as n,_ as C,d as M,e as _,f as A,t as O}from"./index-D1c6PAUA.js";import{F as S,a as F}from"./index-Dtw2IUgv.js";const z=({task:s,onToggle:o,onDelete:l,onEdit:a})=>e.jsxs("li",{className:"flex items-center py-2 px-4 bg-white rounded-md shadow-sm hover:shadow-md transition duration-150 ease-in-out",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300",checked:s.completed,onChange:()=>o(s.id,s.completed)}),e.jsxs("div",{className:"flex-grow ml-4",children:[e.jsx("h3",{className:`font-semibold ${s.completed?"line-through text-gray-500":"text-gray-800"}`,children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]}),e.jsxs("div",{className:"ml-4 flex space-x-2",children:[e.jsx(S,{className:"text-red-500 hover:text-red-700 cursor-pointer text-lg transition duration-150 ease-in-out",onClick:()=>l(s.id),"aria-label":"Eliminar tarea",role:"button"}),e.jsx(F,{className:"text-blue-500 hover:text-blue-700 cursor-pointer text-lg transition duration-150 ease-in-out",onClick:()=>a(s.id),"aria-label":"Editar tarea",role:"button"})]})]}),B=({tasks:s,onToggle:o,onDelete:l,onEdit:a})=>e.jsx("ul",{className:"mt-6 w-full max-w-xl mx-auto space-y-2 list-none p-0",children:s.map(i=>e.jsx(z,{task:i,onToggle:o,onDelete:l,onEdit:a},i.id))}),L=r.lazy(()=>C(()=>import("./TaskModal-D6R31VGG.js"),__vite__mapDeps([0,1,2]))),V=()=>{const{taskListId:s}=w(),o=E(),l=I(),a=h(t=>t.taskLists.lists.find(d=>d.id===s)),{loading:i,error:p}=h(t=>t.taskLists),x=(a==null?void 0:a.tasks)||[],[m,c]=r.useState(!1),[g,u]=r.useState(null),f=()=>{u(null),c(!0)},j=()=>{c(!1),u(null)},b=t=>{t.id?l(M({listId:s,taskId:t.id,title:t.title,description:t.description})):l(_({listId:s,title:t.title,description:t.description})),c(!1),u(null)},k=(t,d)=>{l(O({listId:s,taskId:t,completed:!d}))},T=t=>{const d=x.find(y=>y.id===t);u(d||null),c(!0)},v=t=>{l(A({listId:s,taskId:t}))},N=()=>{o("/taskLists")};return r.useEffect(()=>{P.info("Entrando a TasksPage")},[]),i==="pending"?e.jsx("div",{className:"p-4",children:e.jsx(n,{id:"tasksPage.loading"})}):i==="failed"?e.jsx("div",{className:"p-4 text-red-500",children:e.jsx(n,{id:"tasksPage.error",values:{error:p||"Ocurrió un error al realizar la operación."}})}):e.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[e.jsx("div",{className:"max-w-xl mx-auto mb-4 text-center",children:e.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:(a==null?void 0:a.title)||e.jsx(n,{id:"tasksPage.defaultTitle"})})}),e.jsxs("div",{className:"max-w-xl mx-auto flex justify-between mb-6",children:[e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus-shadow-outline transition duration-150 ease-in-out",onClick:N,children:e.jsx(n,{id:"tasksPage.goBack"})}),e.jsx("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus-shadow-outline transition duration-150 ease-in-out",onClick:f,children:e.jsx(n,{id:"tasksPage.addTaskButton"})})]}),m&&e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"p-4",children:e.jsx(n,{id:"tasksPage.loadingModal"})}),children:e.jsx(L,{isTaskModalOpen:m,onClose:j,onSave:b,initialTask:g})}),e.jsx("div",{className:"max-w-xl mx-auto",children:e.jsx(B,{tasks:x,onToggle:k,onEdit:T,onDelete:v})})]})};export{V as default};
