import{r as a,a as h,o as f,l as r,j as e,M as t,L as b,n as j,p as w}from"./index-D1c6PAUA.js";const v=()=>{const[i,c]=a.useState(""),[o,u]=a.useState(""),[l,n]=a.useState(""),[d,x]=a.useState(""),g=h(),m=f(),p=async()=>{n("");try{const s=await j.signUp(i,o);r.info(`Usuario registrado: ${s.user}`),await w.setUserRoles(s.user.uid,{email:s.user.email,roles:{admin:!1}}),x(m.formatMessage({id:"register.successMessage",defaultMessage:"Registro exitoso. Redirigiendo a las listas..."})),setTimeout(()=>{g("/taskLists")},2e3)}catch(s){r.error(`Error al registrarse: ${s.message}`),n(s.message)}};return a.useEffect(()=>{r.info("Entrando a RegisterPage")},[]),e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg px-8 pt-6 pb-8 mb-4 w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:e.jsx(t,{id:"register.title"})}),e.jsxs("form",{className:"space-y-4",onSubmit:s=>{s.preventDefault(),p()},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:e.jsx(t,{id:"register.emailLabel"})}),e.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:i,onChange:s=>c(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:e.jsx(t,{id:"register.passwordLabel"})}),e.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:o,onChange:s=>u(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus-shadow-outline w-full",children:e.jsx(t,{id:"register.submitButton"})}),l&&e.jsx("p",{className:"text-red-500 text-xs italic",children:l}),d&&e.jsx("p",{className:"text-green-500 text-sm italic",children:d})]}),e.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:[e.jsx(t,{id:"register.alreadyAccount"}),e.jsx(b,{to:"/login",className:"text-blue-500 hover:text-blue-700 focus:outline-none focus-shadow-outline",children:e.jsx(t,{id:"register.loginLink"})})]})]})})};export{v as default};
